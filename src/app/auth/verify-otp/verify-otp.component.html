<div class="row">
  <div class="col-sm-2 ">
  </div>
  
  <div class="col-sm-8 ">
      <nb-card>
          <nb-card-body>
      <div class="text-center">
        <img src="../../assets/images/lralogo.png" >
        <br>
    <h5 >Enter Otp</h5>
      </div>
    <!-- <p class="sub-title">your otp Code will expire in (1) minute</p> -->

    <nb-alert *ngIf="showMessages.error && errors?.length && !submitted" status="danger" role="alert">
      <p class="alert-title"><b>Oh snap!</b></p>
      <ul class="alert-message-list">
        <li *ngFor="let error of errors" class="alert-message">{{ error }}</li>
      </ul>
    </nb-alert>

    <nb-alert *ngIf="showMessages.success && messages?.length && !submitted" status="success" role="alert">
      <p class="alert-title"><b>Hooray!</b></p>
      <ul class="alert-message-list">
        <li *ngFor="let message of messages" class="alert-message">{{ message }}</li>
      </ul>
    </nb-alert>

    <form (ngSubmit)="onVerify()" #requestPassForm="ngForm" aria-labelledby="title">

      <div class="form-control-group">
        <!-- <label class="label" for="input-otp">Enter the otp that was sent to your email address</label> -->
        <input 
          nbInput 
          [(ngModel)]="user.otpCode" 
          #otp="ngModel" 
          id="input-otp" 
          name="otp" 
          placeholder="*****" 
          type="password"
          fieldSize="small"
           status="primary"
           pattern="^[0-9]{4}$"
          autofocus fullWidth 
          [status]="otp.dirty ? (otp.invalid  ? 'danger' : 'success') : 'primary'"
          [required]="getConfigValue('forms.validation.otp.required')"
          [attr.aria-invalid]="otp.invalid && otp.touched ? true : null">
        <ng-container *ngIf="otp.invalid && otp.touched">
          <p class="caption status-danger" *ngIf="otp.errors?.required">
            otp is required!
          </p>
          <p class="caption status-danger" *ngIf="otp.errors?.pattern">
            otp should be only digits!
          </p>
        </ng-container>
      </div>
      <div class="loading-container" dLoading [loading]="loading1"  [showLoading]="showLoading"  [loadingTemplateRef]="loadingTemplateRef2"></div>

      <button nbButton fullWidth status="primary" size="large" [disabled]="submitted || !requestPassForm.valid"
        [class.btn-pulse]="submitted">
        Verify
      </button>
    </form>

    <section class="sign-in-or-up" aria-label="Sign in or sign up">
      <p><a class="text-link" routerLink="../login">Back to Log In</a></p>
      <!-- <p><a routerLink="../register" class="text-link">Register</a></p> -->
    </section>
  </nb-card-body>
</nb-card>
  </div>
  <ng-template #loadingTemplateRef2>
    <div class="devui-infinity-loading">
      <svg
        width="64px"
        height="64px"
        viewBox="0 0 64 64"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <defs>
          <linearGradient x1="-5.25355109%" y1="50%" x2="105.311016%" y2="50%" id="devui-loading-infinity-linearGradient">
            <stop stop-color="#1186FF" offset="0%"></stop>
            <stop stop-color="#1186FF" offset="13.2017232%"></stop>
            <stop stop-color="#FF5AB1" offset="87.0821974%"></stop>
            <stop stop-color="#FF5AB1" offset="100%"></stop>
          </linearGradient>
        </defs>
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
          <path
            d="M32.8273356,32.0651475 C38.9215537,24.0217158 44.200047,20 48.6627517,20 C55.4764195,20 61,25.5964615 61,32.4999677 C61,39.4036031 55.4764195,45 48.6627517,45 C44.258896,45 39.0606745,41.0837108 33.0680872,33.2510678 L31.8765067,31.6765806 C25.9073188,23.8921935 20.7275235,20 16.3372483,20 C9.52358054,20 4,25.5964615 4,32.4999677 C4,39.4036031 9.52358054,45 16.3372483,45 C20.7979128,45 26.0734732,40.9820956 32.164057,32.9462221 L32.8273356,32.0651475 Z"
            id="infinity-bg"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-miterlimit="10"
            stroke="#3B5885"
            stroke-width="5"
            opacity="0.200000003"
          ></path>
          <path
            d="M32.8273356,32.0651475 C38.9215537,24.0217158 44.200047,20 48.6627517,20 C55.4764195,20 61,25.5964615 61,32.4999677 C61,39.4036031 55.4764195,45 48.6627517,45 C44.258896,45 39.0606745,41.0837108 33.0680872,33.2510678 L31.8765067,31.6765806 C25.9073188,23.8921935 20.7275235,20 16.3372483,20 C9.52358054,20 4,25.5964615 4,32.4999677 C4,39.4036031 9.52358054,45 16.3372483,45 C20.7979128,45 26.0734732,40.9820956 32.164057,32.9462221 L32.8273356,32.0651475 Z"
            stroke="url(#devui-loading-infinity-linearGradient)"
            stroke-width="5"
            id="infinity-outline"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-miterlimit="10"
          ></path>
        </g>
      </svg>
    </div>
  </ng-template>

  <div class="col-sm-2 ">
  </div>

</div>